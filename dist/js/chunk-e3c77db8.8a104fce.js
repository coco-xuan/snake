(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e3c77db8"],{"052f":function(t,e,n){"use strict";var r=n("e693"),o=n.n(r);o.a},"388d":function(t,e,n){},"44af":function(t,e,n){},5123:function(t,e,n){"use strict";var r=n("a725"),o=n.n(r);o.a},"52c9":function(t,e,n){"use strict";var r=n("963c"),o=n.n(r);o.a},"5ad3":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tab_control"},t._l(t.titles,(function(e,r){return n("div",{staticClass:"tab_control_item",class:{active:t.currentIndex===r},on:{click:function(e){return t.itemClick(r)}}},[n("span",[t._v(t._s(e))])])})),0)},o=[],s={name:"TabControl",props:{titles:{type:Array,default:function(){return[]}}},data:function(){return{currentIndex:0}},methods:{itemClick:function(t){this.currentIndex=t,this.$emit("itemClick",t)}}},a=s,i=(n("a1f1"),n("2877")),c=Object(i["a"])(a,r,o,!1,null,"7b0391c4",null);e["a"]=c.exports},"5cbe":function(t,e,n){t.exports=n.p+"img/recommend_bg.794b6628.jpg"},6108:function(t,e,n){"use strict";var r=n("810b"),o=n.n(r);o.a},"810b":function(t,e,n){},"963c":function(t,e,n){},a1f1:function(t,e,n){"use strict";var r=n("44af"),o=n.n(r);o.a},a725:function(t,e,n){},b3d7:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("home-nav-bar"),n("tab-control",{directives:[{name:"show",rawName:"v-show",value:t.isShopTabControl,expression:"isShopTabControl"}],ref:"tabControl",class:{tab_control:t.isShopTabControl},attrs:{titles:t.titles},on:{itemClick:t.itemClick}}),n("scroll",{ref:"scroll",staticClass:"scroll",attrs:{isPullUpLoad:!0,whatProbeType:2},on:{onPullingUp:t.loadMore,showBackTop:t.showBackTop,scrollPositon:t.scrollPositon},scopedSlots:t._u([{key:"default",fn:function(){return[n("swiper",{attrs:{banners:t.banners},on:{imgLoadOver:t.imgLoadOver}}),n("recommend-view",{attrs:{recommends:t.recommends}}),n("feture-view"),n("tab-control",{ref:"tabControl1",attrs:{titles:t.titles},on:{itemClick:t.itemClick}}),n("goods-list",{attrs:{goods:t.goods[t.currentTitles].list}})]},proxy:!0}])}),n("back-top",{directives:[{name:"show",rawName:"v-show",value:t.isShopBackTop,expression:"isShopBackTop"}],nativeOn:{click:function(e){return t.scrollTop(e)}}})],1)},o=[],s=n("6b75");function a(t){if(Array.isArray(t))return Object(s["a"])(t)}n("a4d3"),n("e01a"),n("d28b"),n("a630"),n("d3b7"),n("3ca3"),n("ddb0");function i(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}var c=n("06c5");function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return a(t)||i(t)||Object(c["a"])(t)||l()}var f=n("5ad3"),d=n("6d71"),m=n("5d17"),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.banners?n("div",{staticClass:"swiper-list"},[n("van-swipe",{staticClass:"my-swipe",attrs:{autoplay:3e3,"indicator-color":"#ff5777"}},t._l(t.banners,(function(e,r){return n("van-swipe-item",{key:r},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:""},on:{load:t.imgLoad}})])])})),1)],1):t._e()},b=[],h={name:"MySwiper",props:{banners:{type:Array,default:function(){return[]}}},data:function(){return{isLoad:!1}},methods:{imgLoad:function(){this.isLoad||(this.$emit("imgLoadOver"),this.isLoad=!0)}}},v=h,g=(n("6108"),n("2877")),w=Object(g["a"])(v,p,b,!1,null,"e0122bc4",null),_=w.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"recommends"},t._l(t.recommends,(function(e){return n("div",{staticClass:"recommend"},[n("a",{attrs:{href:e.link}},[n("img",{attrs:{src:e.image,alt:""}})]),n("div",[t._v(t._s(e.title))])])})),0)},y=[],T={name:"RecommendView",props:{recommends:{type:Array,default:function(){return[]}}}},k=T,$=(n("5123"),Object(g["a"])(k,C,y,!1,null,"7a883e63",null)),O=$.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav-bar",{staticClass:"navbar",scopedSlots:t._u([{key:"center",fn:function(){return[n("p",[t._v("购物街")])]},proxy:!0}])})},L=[],j=n("a7ac"),S={name:"HomeNavBar",components:{NavBar:j["a"]}},H=S,E=(n("052f"),Object(g["a"])(H,x,L,!1,null,"172f0734",null)),B=E.exports,I=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},P=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("a",{attrs:{href:"#"}},[r("img",{attrs:{src:n("5cbe"),alt:""}})])])}],A={name:"FetureView"},G=A,M=(n("52c9"),Object(g["a"])(G,I,P,!1,null,"40bfe22c",null)),N=M.exports,V=n("1bab");function Y(){return Object(V["a"])({url:"/home/multidata"})}function F(t,e){return Object(V["a"])({url:"/home/data",params:{type:t,page:e}})}var J=n("90b9"),R=n("eecb"),U={name:"Home",components:{RecommendView:O,HomeNavBar:B,Swiper:_,FetureView:N,TabControl:f["a"],GoodsList:d["a"],Scroll:m["a"]},data:function(){return{banners:[],recommends:[],titles:["流行","新款","精选"],goods:{pop:{page:0,list:[]},new:{page:0,list:[]},sell:{page:0,list:[]}},currentTitles:"pop",isShopTabControl:!1,tabOffsetTop:0,currentY:0,isLoading:!0}},mixins:[R["b"],R["a"]],created:function(){this.getHomeMutil(),this.getHomeGoods("pop"),this.getHomeGoods("new"),this.getHomeGoods("sell")},mounted:function(){var t=Object(J["a"])(this.$refs.scroll.refresh,100);Object(J["a"])(this.$bus.$on("imgLoad",(function(){t()})))},methods:{getHomeMutil:function(){var t=this;return Y().then((function(e){t.banners=e.data.banner.list,t.recommends=e.data.recommend.list}))},getHomeGoods:function(t){var e=this,n=this.goods[t].page+1;return F(t,n).then((function(n){var r,o=n.data.list;(r=e.goods[t].list).push.apply(r,u(o)),e.goods[t].page+=1,e.$refs.scroll&&e.$refs.scroll.finishLoad()}))},itemClick:function(t){switch(t){case 0:this.currentTitles="pop";break;case 1:this.currentTitles="new";break;case 2:this.currentTitles="sell";break}this.$refs.tabControl.currentIndex=t,this.$refs.tabControl1.currentIndex=t},scrollTop:function(){this.$refs.scroll.scrollTo(0,0,500)},loadMore:function(){this.getHomeGoods(this.currentTitles)},scrollPositon:function(t){this.isShopTabControl=t.y<-this.tabOffsetTop},imgLoadOver:function(){this.tabOffsetTop=this.$refs.tabControl1.$el.offsetTop}},activated:function(){this.$refs.scroll.scrollTo(0,this.currentY,50),this.$refs.scroll.refresh()},deactivated:function(){this.currentY=this.$refs.scroll.getPositionY(),this.$bus.$off("imgLoad",this.imgListener)}},q=U,z=(n("b603"),Object(g["a"])(q,r,o,!1,null,"5b3be010",null));e["default"]=z.exports},b603:function(t,e,n){"use strict";var r=n("388d"),o=n.n(r);o.a},e693:function(t,e,n){}}]);
//# sourceMappingURL=chunk-e3c77db8.8a104fce.js.map